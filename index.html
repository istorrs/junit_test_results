<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="error-boundary.js"></script>
        <script src="console-capture.js"></script>
        <title>JUnit Test Results Dashboard</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                darkMode: 'class'
            };
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
        <link href="https://unpkg.com/splitting@1.0.6/dist/splitting.css" rel="stylesheet" />
        <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.min.js"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="shared-styles.css" />
        <script src="global-search.js" defer></script>
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                min-height: 100vh;
            }

            .code-font {
                font-family: 'JetBrains Mono', monospace;
            }

            .hero-gradient {
                background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
                position: relative;
                overflow: hidden;
            }

            .hero-gradient::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: url('resources/hero-image.png') center/cover;
                opacity: 0.1;
                z-index: 1;
            }

            .hero-content {
                position: relative;
                z-index: 2;
            }

            .upload-zone {
                border: 2px dashed #cbd5e1;
                transition: all 0.3s ease;
                background: rgba(255, 255, 255, 0.05);
            }

            .upload-zone:hover {
                border-color: #3b82f6;
                background: rgba(59, 130, 246, 0.05);
            }

            .upload-zone.drag-over {
                border-color: #1d4ed8;
                background: rgba(29, 78, 216, 0.1);
                transform: scale(1.02);
            }

            .stat-card {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                transition: all 0.3s ease;
            }

            .stat-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }

            .test-run-card {
                transition: all 0.3s ease;
                border-left: 4px solid transparent;
            }

            .test-run-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                border-left-color: #3b82f6;
            }

            .filter-sidebar {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border-right: 1px solid rgba(0, 0, 0, 0.1);
            }

            .chart-container {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border-radius: 12px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            }

            .floating-animation {
                animation: float 6s ease-in-out infinite;
            }

            @keyframes float {
                0%,
                100% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(-10px);
                }
            }

            .pulse-animation {
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.7;
                }
            }

            .gradient-text {
                background: linear-gradient(135deg, #3b82f6, #1d4ed8);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .nav-link {
                position: relative;
                transition: all 0.3s ease;
            }

            .nav-link:hover {
                color: #3b82f6;
            }

            .nav-link.active::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 0;
                right: 0;
                height: 2px;
                background: #3b82f6;
                border-radius: 1px;
            }

            .data-flow {
                position: absolute;
                width: 100%;
                height: 100%;
                overflow: hidden;
                z-index: 1;
            }

            .data-flow::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(59, 130, 246, 0.1),
                    transparent
                );
                animation: dataFlow 3s infinite;
            }

            @keyframes dataFlow {
                0% {
                    left: -100%;
                }
                100% {
                    left: 100%;
                }
            }
        </style>
    </head>
    <body>
        <!-- Navigation (populated by navigation.js) -->
        <nav class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40"></nav>

        <!-- Hero Section -->
        <div class="hero-gradient">
            <div class="data-flow"></div>
            <div class="hero-content max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="text-center mb-12">
                    <h1 class="text-4xl md:text-5xl font-bold text-white mb-4" data-splitting>
                        JUnit Test Results Dashboard
                    </h1>
                    <p
                        class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto"
                        data-typed="Comprehensive test result analysis and visualization for your JUnit test suites"
                    ></p>
                </div>
            </div>
        </div>

        <!-- Overall Statistics -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 relative z-10">
            <div class="mb-4">
                <h2 class="text-xl font-bold text-gray-900">Overall Statistics</h2>
                <p class="text-sm text-gray-600">Database-wide test metrics across all test runs</p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8">
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div
                        class="text-3xl font-bold text-gray-900 mb-1"
                        data-counter
                        id="total-tests"
                    >
                        0
                    </div>
                    <div class="text-sm text-gray-600">Total Tests</div>
                </div>
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div
                        class="text-3xl font-bold text-green-600 mb-1"
                        data-counter
                        id="passed-tests"
                    >
                        0
                    </div>
                    <div class="text-sm text-gray-600">Passed</div>
                </div>
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div
                        class="text-3xl font-bold text-red-600 mb-1"
                        data-counter
                        id="failed-tests"
                    >
                        0
                    </div>
                    <div class="text-sm text-gray-600">Failed</div>
                </div>
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div
                        class="text-3xl font-bold text-orange-600 mb-1"
                        data-counter
                        id="error-tests"
                    >
                        0
                    </div>
                    <div class="text-sm text-gray-600">Errors</div>
                </div>
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div
                        class="text-3xl font-bold text-gray-600 mb-1"
                        data-counter
                        id="skipped-tests"
                    >
                        0
                    </div>
                    <div class="text-sm text-gray-600">Skipped</div>
                </div>
                <div class="stat-card rounded-lg p-6 text-center animate-card">
                    <div class="text-3xl font-bold text-blue-600 mb-1" id="total-time">0s</div>
                    <div class="text-sm text-gray-600">Total Time</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Filter Sidebar -->
                <div class="lg:col-span-1">
                    <div class="filter-sidebar rounded-lg p-6 sticky top-24">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Filters</h3>

                        <!-- Test Run Filter -->
                        <div class="mb-6">
                            <label
                                for="run-filter"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Test Run</label
                            >
                            <select
                                id="run-filter"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            >
                                <option value="all">All Test Runs</option>
                            </select>
                        </div>

                        <!-- Test Suite Filter -->
                        <div class="mb-6">
                            <label
                                for="suite-filter"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Test Suite</label
                            >
                            <select
                                id="suite-filter"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            >
                                <option value="all">All Test Suites</option>
                            </select>
                            <p class="text-xs text-gray-500 mt-1">Filter by test class/suite</p>
                        </div>

                        <!-- Status Filter -->
                        <div class="mb-6">
                            <label
                                for="status-filter"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Status</label
                            >
                            <select
                                id="status-filter"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            >
                                <option value="all">All Status</option>
                                <option value="passed">Passed</option>
                                <option value="failed">Failed</option>
                                <option value="error">Error</option>
                                <option value="skipped">Skipped</option>
                                <option value="flaky">Flaky Tests</option>
                            </select>
                        </div>

                        <!-- Search -->
                        <div class="mb-6">
                            <label
                                for="search-input"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Search</label
                            >
                            <input
                                type="text"
                                id="search-input"
                                placeholder="Test name or class..."
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            />
                        </div>

                        <!-- Date Range -->
                        <div class="mb-6">
                            <label
                                for="date-filter"
                                class="block text-sm font-medium text-gray-700 mb-2"
                                >Date Range</label
                            >
                            <select
                                id="date-filter"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            >
                                <option value="all">All Time</option>
                                <option value="today">Today</option>
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                            </select>
                        </div>

                        <!-- Sort Options -->
                        <div class="mb-6">
                            <h4 class="text-sm font-medium text-gray-700 mb-2">Sort By</h4>
                            <div class="space-y-2">
                                <button
                                    data-sort="name"
                                    class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200"
                                >
                                    Name
                                </button>
                                <button
                                    data-sort="time"
                                    class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200"
                                >
                                    Execution Time
                                </button>
                                <button
                                    data-sort="status"
                                    class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200"
                                >
                                    Status
                                </button>
                                <button
                                    data-sort="date"
                                    class="w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200"
                                >
                                    Date
                                </button>
                            </div>
                        </div>

                        <button
                            id="clear-filters"
                            class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors duration-200"
                        >
                            Clear Filters
                        </button>
                    </div>
                </div>

                <!-- Main Content Area -->
                <div class="lg:col-span-3">
                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="chart-container p-6 bg-white/95 dark:bg-gray-800/95">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                Test Status Distribution
                            </h3>
                            <div id="status-chart" style="height: 300px"></div>
                        </div>
                        <div class="chart-container p-6 bg-white/95 dark:bg-gray-800/95">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">
                                Test Execution Trend
                            </h3>
                            <div id="trend-chart" style="height: 300px"></div>
                        </div>
                    </div>

                    <!-- Insights Panel -->
                    <div id="insights-panel" class="mb-8">
                        <!-- Insights will be populated here -->
                    </div>

                    <!-- Test Runs Grid -->
                    <div class="mb-8">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">Recent Test Runs</h2>
                            <div class="flex items-center space-x-4">
                                <a href="data-management.html" class="text-blue-600 hover:text-blue-800 font-medium">
                                    View All â†’
                                </a>
                            </div>
                        </div>
                        <div id="test-runs-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Test runs will be populated here -->
                        </div>
                    </div>

                    <!-- Filtered Test Cases -->
                    <div class="mb-8">
                        <div class="border-t border-gray-200 pt-8 mt-8">
                            <div class="mb-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">Filtered Test Cases</h3>
                                <p class="text-sm text-gray-600">
                                    Use the filters on the left to narrow down test cases by run, suite, status, or search criteria
                                </p>
                            </div>
                            <div
                                id="filtered-results"
                                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
                            >
                                <!-- Filtered test cases will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-white border-t border-gray-200 mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="text-center text-gray-600">
                    <p>
                        &copy; 2025 JUnit Test Results Dashboard. Built with modern web
                        technologies.
                    </p>
                </div>
            </div>
        </footer>

        <!-- Load Scripts -->
        <script src="theme.js"></script>
        <script src="navigation.js"></script>
        <script src="api-client.js"></script>
        <script src="test-details-modal.js"></script>
        <script src="insights.js"></script>
        <script src="debug.js"></script>
        <script src="main.js"></script>
    </body>
</html>
