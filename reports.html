<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="error-boundary.js"></script>
        <script src="console-capture.js"></script>
        <title>Reports - JUnit Dashboard</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="shared-styles.css" />
        <script src="global-search.js" defer></script>
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                min-height: 100vh;
            }

            .code-font {
                font-family: 'JetBrains Mono', monospace;
            }

            .report-card {
                transition: all 0.3s ease;
                border-left: 4px solid transparent;
            }

            .report-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                border-left-color: #3b82f6;
            }

            .nav-link {
                position: relative;
                transition: all 0.3s ease;
            }

            .nav-link:hover {
                color: #3b82f6;
            }

            .nav-link.active::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 0;
                right: 0;
                height: 2px;
                background: #3b82f6;
                border-radius: 1px;
            }

            .report-builder {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border-radius: 12px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            }

            /* Dark mode for report builder */
            .dark .report-builder {
                background: rgba(31, 41, 55, 0.95);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            }

            .template-card {
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .template-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            }

            .dark .template-card:hover {
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            }

            .template-card.selected {
                border-color: #3b82f6;
                background: rgba(59, 130, 246, 0.05);
            }

            .dark .template-card.selected {
                background: rgba(59, 130, 246, 0.15);
            }

            .export-format {
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .export-format:hover {
                background: rgba(59, 130, 246, 0.05);
            }

            .dark .export-format:hover {
                background: rgba(59, 130, 246, 0.15);
            }

            .export-format.selected {
                background: rgba(59, 130, 246, 0.1);
                border-color: #3b82f6;
            }

            .dark .export-format.selected {
                background: rgba(59, 130, 246, 0.2);
            }

            .preview-container {
                background: #1a1a1a;
                color: #e5e5e5;
                border-radius: 8px;
                padding: 16px;
                font-family: 'JetBrains Mono', monospace;
                font-size: 14px;
                line-height: 1.5;
                overflow-x: auto;
                max-height: 400px;
                overflow-y: auto;
            }

            /* Light mode preview */
            :not(.dark) .preview-container {
                background: #f9fafb;
                color: #1f2937;
                border: 1px solid #e5e7eb;
            }
        </style>
    </head>
    <body>
        <!-- Navigation -->
        <nav class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40"></nav>

        <!-- Header -->
        <div class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Release Test Reports</h1>
                        <p class="text-gray-600 mt-1">
                            Generate comprehensive release test reports for product sign-off and documentation
                        </p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button
                            id="generate-report"
                            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200"
                        >
                            Generate Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Info Box -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <div class="flex items-start">
                    <svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                    </svg>
                    <div>
                        <p class="text-sm text-blue-800">
                            <strong>Release Test Reports:</strong> Generate professional test reports for product releases, QA sign-off, and stakeholder communication.
                            Select the test run, choose which test suites to include, and generate a comprehensive report.
                        </p>
                    </div>
                </div>
            </div>

            <div class="report-builder p-6 mb-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-6">Report Configuration</h3>

                <!-- Release Information -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-700 mb-3">Release Information</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label for="release-version" class="block text-sm text-gray-600 mb-1">Release Version</label>
                            <input
                                type="text"
                                id="release-version"
                                placeholder="e.g., v2.4.1"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            />
                        </div>
                        <div>
                            <label for="build-number" class="block text-sm text-gray-600 mb-1">Build Number</label>
                            <input
                                type="text"
                                id="build-number"
                                placeholder="e.g., Build-2024-1234"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            />
                        </div>
                        <div>
                            <label for="report-date" class="block text-sm text-gray-600 mb-1">Report Date</label>
                            <input
                                type="date"
                                id="report-date"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            />
                        </div>
                    </div>
                </div>

                <!-- Test Run Selection -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-700 mb-3">Test Run</h4>
                    <select
                        id="run-selector"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                    >
                        <option value="">Select test run for this release...</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">Choose the test run that represents this release's testing</p>
                </div>

                <!-- Test Suite Selection -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-700 mb-3">Test Suites to Include</h4>
                    <p class="text-xs text-gray-500 mb-3">Select which test suites should be included in this release report</p>
                    <div id="suite-checkboxes" class="space-y-2 border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto">
                        <!-- Suite checkboxes will be populated here -->
                        <p class="text-gray-500 text-sm">Select a test run first to see available test suites</p>
                    </div>
                </div>

                <!-- Report Style -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-700 mb-3">Report Style</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div
                            class="template-card border-2 border-gray-200 rounded-lg p-4 selected"
                            data-template="executive"
                        >
                            <div class="flex items-center mb-2">
                                <svg
                                    class="w-5 h-5 text-blue-600 mr-2"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                                    />
                                </svg>
                                <h5 class="font-medium text-gray-900">Executive Summary</h5>
                            </div>
                            <p class="text-sm text-gray-600">
                                High-level report for stakeholders with pass/fail verdict and recommendations
                            </p>
                        </div>
                        <div
                            class="template-card border-2 border-gray-200 rounded-lg p-4"
                            data-template="detailed"
                        >
                            <div class="flex items-center mb-2">
                                <svg
                                    class="w-5 h-5 text-gray-400 mr-2"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                    />
                                </svg>
                                <h5 class="font-medium text-gray-900">Detailed Technical</h5>
                            </div>
                            <p class="text-sm text-gray-600">
                                Comprehensive report with full suite breakdowns and failure details
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Export Formats -->
                <div class="mb-6">
                    <h4 class="text-sm font-medium text-gray-700 mb-3">Export Format</h4>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <div
                            class="export-format border-2 border-gray-200 rounded-lg p-3 text-center"
                            data-format="html"
                        >
                            <svg
                                class="w-6 h-6 mx-auto mb-2 text-orange-600"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
                                />
                            </svg>
                            <span class="text-sm font-medium">HTML</span>
                        </div>
                        <div
                            class="export-format border-2 border-gray-200 rounded-lg p-3 text-center selected"
                            data-format="markdown"
                        >
                            <svg
                                class="w-6 h-6 mx-auto mb-2 text-blue-600"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
                                />
                            </svg>
                            <span class="text-sm font-medium">Markdown</span>
                        </div>
                        <div
                            class="export-format border-2 border-gray-200 rounded-lg p-3 text-center"
                            data-format="json"
                        >
                            <svg
                                class="w-6 h-6 mx-auto mb-2 text-green-600"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                />
                            </svg>
                            <span class="text-sm font-medium">JSON</span>
                        </div>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">HTML: Self-contained file • Markdown: For GitHub/Confluence • JSON: Machine-readable</p>
                </div>
            </div>

            <!-- Preview -->
            <div class="report-builder p-6 mb-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Report Preview</h3>
                <div class="preview-container" id="report-preview">
                    <p class="text-gray-500">Configure the report settings above, then click "Generate Report" to see a preview.</p>
                </div>
                <div class="flex items-center justify-end gap-3 mt-4">
                    <button
                        id="download-report"
                        class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2"
                    >
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        Download Report
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-white border-t border-gray-200 mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="text-center text-gray-600">
                    <p>
                        &copy; 2025 JUnit Test Results Dashboard. Built with modern web
                        technologies.
                    </p>
                </div>
            </div>
        </footer>

        <!-- Load Scripts -->
        <script src="theme.js"></script>
        <script src="navigation.js"></script>
        <script src="limits-config.js"></script>
        <script src="api-client.js"></script>
        <script src="release-reports.js"></script>
    </body>
</html>
